{
    "$schema": "http://json-schema.org/draft-04/hyper-schema#",
    "id": "http://unis.crest.iu.edu/schema/20151104/measurement#",
    "description": "A measurement object",
    "name": "Measurement",
    "type": "object",
    "additionalProperties": true,
    "allOf": [{
        "$ref": "http://unis.crest.iu.edu/schema/20151104/networkresource#"
    }],
    "required": ["configuration", "eventTypes"],
    "properties": {
	"service": {
	    "type": "string",
	    "format": "uri",
	    "description": "Service which will be taking this measurement"
	},
	"configuration": {
	    "type": "object",
	    "properties": {
		"$schema": {
		    "type": "string",
		    "format": "uri"
		}
	    },
	    "additionalProperties": true
	},
	"scheduled_times": { "$ref": "#/networkresource/lifetimes" },
	"eventTypes": {
	    "description": "A list of eventTypes which this measurement produces",
	    "type": "array",
	    "items": { "type": "string" }
	},
	"resources": {
	    "description": "A list of resources that this measurement uses or affects",
	    "type": "array",
	    "items": {
		"allOf": [
		    {
			"required": ["ref"],
			"type": "object",
			"properties": {
			    "ref": {
				"description": "Hyperlink reference to the resource",
				"format": "uri",
				"type": "string"
			    },
			    "usage": {
				"type": "object",
				"description": "How is this resource used",
				"additionalProperties": {
				    "type": "number",
				    "minimum": 0,
				    "maximum": 100
				}
			    }
			}
		    }
		]
	    }
	}
    }
}
